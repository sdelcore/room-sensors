<html>
    <head>
    	<meta charset="utf-8" />
    	<title>Room Sensors</title>
    </head>
    <body>
        <link rel="stylesheet" type="text/css" href="main.css">
        <script type="text/javascript" src="plotlyjs-bundle.js"></script>
        <script src="moment.js"></script>
        <script type="text/javascript" src="figure.js"></script>
        <script src="jquery.min.js"></script>
        <script>
			$(function() {
				$('#myTopnav a').click(function() {
				   $('#myTopnav a').removeClass();
				   $($(this)).addClass('active');
				});
			});
		</script>

        <div class="myTopnav" id="myTopnav" style="height: 5%;width: 100%;">
			<a class="active" onclick="updatePlot('sound')" href="#sound">Sound</a>
			<a onclick="updatePlot('temperature')" href="#temperature">Temperature</a>
			<a onclick="updatePlot('light')" href="#light">Light</a>
			<a onclick="updatePlot('humidity')" href="#humidity">Humidity</a>
		</div>

        <div id="PlotSpot" style="width: 100%; height: 95%;" class="plotly-graph-div"></div>

        <script type="text/javascript">
            (function(){
                window.PLOTLYENV={'BASE_URL': 'https://plot.ly'};

                var gd = document.getElementById('PlotSpot')
                var resizeDebounce = null;

                function resizePlot() {
                    var bb = gd.getBoundingClientRect();
                    Plotly.relayout(gd, {
                        width: bb.width,
                        height: bb.height
                    });
                }

                window.addEventListener('resize', function() {
                    if (resizeDebounce) {
                        window.clearTimeout(resizeDebounce);
                    }
                    resizeDebounce = window.setTimeout(resizePlot, 100);
                });
                
                Plotly.plot(gd,  {
                    data: figure.data,
                    layout: figure.layout,
                    frames: figure.frames,
                    config: {"mapboxAccessToken": "pk.eyJ1IjoiY2hyaWRkeXAiLCJhIjoiY2lxMnVvdm5iMDA4dnhsbTQ5aHJzcGs0MyJ9.X9o_rzNLNesDxdra4neC_A", "linkText": "Export to plot.ly", "showLink": true}
                });
                
           }());
        </script>
    </body>
</html>
